<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Appraisal</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f4f4f4; padding: 20px; }
        .container { max-width: 600px; margin: auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        input, select, textarea, button { width: 100%; padding: 10px; margin-bottom: 15px; box-sizing: border-box; }
        button { background-color: #ffc107; border: none; font-weight: bold; cursor: pointer; }
        .readonly { background-color: #e9ecef; color: #555; pointer-events: none; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Edit Appraisal</h1>
        <form action="/edit-appraisal" method="POST">
            <input type="hidden" name="Appraisal_ID" value="<%= appraisal.Appraisal_ID %>">

            <label>Employee (Read Only)</label>
            <input type="text" class="readonly" value="<%= appraisal.JobAssignment.Employee.First_Name %> <%= appraisal.JobAssignment.Employee.Last_Name %>" readonly>

            <label>Performance Cycle</label>
            <select name="Cycle_ID">
                <% cycles.forEach(cycle => { %>
                    <option value="<%= cycle.Cycle_ID %>" <%= appraisal.Cycle_ID === cycle.Cycle_ID ? 'selected' : '' %>>
                        <%= cycle.Cycle_Name %>
                    </option>
                <% }) %>
            </select>

            <label>Score (0-100)</label>
            <input type="number" step="0.01" name="Overall_Score" value="<%= appraisal.Overall_Score %>" required>

            <label>Comments</label>
            <textarea name="Manager_Comments" rows="3"><%= appraisal.Manager_Comments %></textarea>

            <label>Date</label>
            <input type="date" name="Appraisal_Date" value="<%= appraisal.Appraisal_Date %>">

            <button type="submit">Update Appraisal</button>
        </form>
        <a href="/performance" style="display:block; text-align:center; margin-top:10px;">Cancel</a>
    </div>
</body>
</html>